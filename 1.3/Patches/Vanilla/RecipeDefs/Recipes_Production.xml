<?xml version="1.0" encoding="utf-8" ?>
<Patch>

	<!-- Disable favourited items by default for smelting/destroying bills -->
	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
				<xpath>/Defs/RecipeDef[defName="SmeltWeapon"]/defaultIngredientFilter</xpath>
				<success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>/Defs/RecipeDef[defName="SmeltWeapon"]</xpath>
				<value>
					<defaultIngredientFilter/>
				</value>
			</li>
		</operations>
	</Operation>
	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
				<xpath>/Defs/RecipeDef[defName="SmeltWeapon"]/defaultIngredientFilter/specialFiltersToDisallow</xpath>
				<success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>/Defs/RecipeDef[defName="SmeltWeapon"]/defaultIngredientFilter</xpath>
				<value>
					<specialFiltersToDisallow/>
				</value>
			</li>
		</operations>
	</Operation>
	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
				<xpath>/Defs/RecipeDef[defName="SmeltWeapon"]/defaultIngredientFilter/categories</xpath>
				<success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>/Defs/RecipeDef[defName="SmeltWeapon"]/defaultIngredientFilter</xpath>
				<value>
					<categories/>
				</value>
			</li>
		</operations>
	</Operation>
	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
				<xpath>/Defs/RecipeDef[defName="SmeltWeapon"]/defaultIngredientFilter/categories/li[text()="Weapons"]</xpath>
				<success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>/Defs/RecipeDef[defName="SmeltWeapon"]/defaultIngredientFilter/categories</xpath>
				<value>
					<li>Weapons</li>
				</value>
			</li>
		</operations>
	</Operation>

	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
				<xpath>/Defs/RecipeDef[defName="SmeltApparel"]/defaultIngredientFilter</xpath>
				<success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>/Defs/RecipeDef[defName="SmeltApparel"]</xpath>
				<value>
					<defaultIngredientFilter/>
				</value>
			</li>
		</operations>
	</Operation>
	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
				<xpath>/Defs/RecipeDef[defName="SmeltApparel"]/defaultIngredientFilter/specialFiltersToDisallow</xpath>
				<success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>/Defs/RecipeDef[defName="SmeltApparel"]/defaultIngredientFilter</xpath>
				<value>
					<specialFiltersToDisallow/>
				</value>
			</li>
		</operations>
	</Operation>
	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
				<xpath>/Defs/RecipeDef[defName="SmeltApparel"]/defaultIngredientFilter/categories</xpath>
				<success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>/Defs/RecipeDef[defName="SmeltApparel"]/defaultIngredientFilter</xpath>
				<value>
					<categories/>
				</value>
			</li>
		</operations>
	</Operation>
	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
				<xpath>/Defs/RecipeDef[defName="SmeltApparel"]/defaultIngredientFilter/categories/li[text()="Apparel"]</xpath>
				<success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>/Defs/RecipeDef[defName="SmeltApparel"]/defaultIngredientFilter/categories</xpath>
				<value>
					<li>Apparel</li>
				</value>
			</li>
		</operations>
	</Operation>
	
	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
				<xpath>/Defs/RecipeDef[defName="DestroyWeapon"]/defaultIngredientFilter</xpath>
				<success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>/Defs/RecipeDef[defName="DestroyWeapon"]</xpath>
				<value>
					<defaultIngredientFilter/>
				</value>
			</li>
		</operations>
	</Operation>
	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
				<xpath>/Defs/RecipeDef[defName="DestroyWeapon"]/defaultIngredientFilter/specialFiltersToDisallow</xpath>
				<success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>/Defs/RecipeDef[defName="DestroyWeapon"]/defaultIngredientFilter</xpath>
				<value>
					<specialFiltersToDisallow/>
				</value>
			</li>
		</operations>
	</Operation>
	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
				<xpath>/Defs/RecipeDef[defName="DestroyWeapon"]/defaultIngredientFilter/categories</xpath>
				<success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>/Defs/RecipeDef[defName="DestroyWeapon"]/defaultIngredientFilter</xpath>
				<value>
					<categories/>
				</value>
			</li>
		</operations>
	</Operation>
	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
				<xpath>/Defs/RecipeDef[defName="DestroyWeapon"]/defaultIngredientFilter/categories/li[text()="Weapons"]</xpath>
				<success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>/Defs/RecipeDef[defName="DestroyWeapon"]/defaultIngredientFilter/categories</xpath>
				<value>
					<li>Weapons</li>
				</value>
			</li>
		</operations>
	</Operation>
	
	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
				<xpath>/Defs/RecipeDef[defName="DestroyApparel"]/defaultIngredientFilter</xpath>
				<success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>/Defs/RecipeDef[defName="DestroyApparel"]</xpath>
				<value>
					<defaultIngredientFilter/>
				</value>
			</li>
		</operations>
	</Operation>
	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
				<xpath>/Defs/RecipeDef[defName="DestroyApparel"]/defaultIngredientFilter/specialFiltersToDisallow</xpath>
				<success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>/Defs/RecipeDef[defName="DestroyApparel"]/defaultIngredientFilter</xpath>
				<value>
					<specialFiltersToDisallow/>
				</value>
			</li>
		</operations>
	</Operation>
	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
				<xpath>/Defs/RecipeDef[defName="DestroyApparel"]/defaultIngredientFilter/categories</xpath>
				<success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>/Defs/RecipeDef[defName="DestroyApparel"]/defaultIngredientFilter</xpath>
				<value>
					<categories/>
				</value>
			</li>
		</operations>
	</Operation>
	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
				<xpath>/Defs/RecipeDef[defName="DestroyApparel"]/defaultIngredientFilter/categories/li[text()="Apparel"]</xpath>
				<success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>/Defs/RecipeDef[defName="DestroyApparel"]/defaultIngredientFilter/categories</xpath>
				<value>
					<li>Apparel</li>
				</value>
			</li>
		</operations>
	</Operation>
	
	<Operation Class="PatchOperationAdd">
		<xpath>/Defs/RecipeDef[defName="SmeltWeapon" or defName="SmeltApparel" or defName="DestroyWeapon" or defName="DestroyApparel"]/defaultIngredientFilter/specialFiltersToDisallow</xpath>
		<value>
			<li>RimworldFavourites_AllowFavourited</li>
		</value>
	</Operation>

</Patch>